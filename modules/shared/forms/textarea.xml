<Ui xmlns="http://www.blizzard.com/wow/ui/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.blizzard.com/wow/ui/ https://raw.githubusercontent.com/Gethe/wow-ui-source/live/Interface/AddOns/Blizzard_SharedXML/UI.xsd">
    <Script file="textarea.lua" />

    <Frame name="MapPinEnhancedTextareaTemplate" virtual="true" mixin="MapPinEnhancedTextareaMixin"
        propagateMouseInput="Clicks"
    >
        <Size x="200" y="200" />
        <Layers>
            <Layer level="BORDER">
                <Texture atlas="UI-HUD-ActionBar-Frame" parentKey="Border">
                    <Color r="0.8" g="0.8" b="0.8" />
                    <KeyValues>
                        <KeyValue key="ignoreInLayout" value="true" type="boolean" />
                    </KeyValues>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
                        <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" />
                    </Anchors>
                </Texture>
            </Layer>
            <Layer level="BACKGROUND">
                <Texture parentKey="Background">
                    <Color r="0" g="0" b="0" a="0.5" />
                    <Anchors>
                        <Anchor point="TOPLEFT" x="4" y="-4"></Anchor>
                        <Anchor point="BOTTOMRIGHT" x="-7" y="7"></Anchor>
                    </Anchors>
                </Texture>
            </Layer>
        </Layers>
        <Frames>
            <ScrollFrame inherits="ScrollFrameTemplate" parentKey="scrollFrame" enableMouse="true">
                <Anchors>
                    <Anchor point="TOPLEFT" x="7" y="-7" />
                    <Anchor point="BOTTOMRIGHT" x="-7" y="7" />
                </Anchors>
                <KeyValues>
                    <KeyValue key="scrollBarX" value="5" />
                    <KeyValue key="scrollBarHideIfUnscrollable" value="true" type="boolean" />
                </KeyValues>
                <ScrollChild>
                    <EditBox parentKey="EditBox"
                        autoFocus="false" multiLine="true" font="GameFontNormal"
                    >
                        <Size x="150" y="1" />
                        <Anchors>
                            <Anchor point="TOP" x="0" y="-5" />
                            <Anchor point="LEFT" x="10" />
                            <Anchor point="RIGHT" x="-10" />
                        </Anchors>
                        <Scripts>
                            <OnLoad>
                                local parentWidth = self:GetParent():GetParent():GetWidth();
                                self:SetWidth(parentWidth - 20);
                            </OnLoad>
                        </Scripts>
                    </EditBox>
                </ScrollChild>
                <Scripts>
                    <OnMouseDown>
                        self.EditBox:SetFocus();
                    </OnMouseDown>
                </Scripts>
            </ScrollFrame>
        </Frames>

    </Frame>
</Ui>
